(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(17),o=n.n(c),a=n(3),r=n(2),s=n(0),u=function(e){return Object(s.jsx)("input",{placeholder:"filter contacts",value:e.filter,onChange:e.handleFilter})},l=function(e){var t=e.text;return Object(s.jsx)("h2",{children:t})},i=function(){return Object(s.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(s.jsx)("br",{}),Object(s.jsx)("em",{children:"phonebook app by Lukas Vidfar, 2021"})]})},d=function(e){var t=e.message;return null===t?null:t.includes("successfully")?Object(s.jsx)("div",{className:"success",children:t}):(t.includes("already"),Object(s.jsx)("div",{className:"error",children:t}))},j=n(4),b=n.n(j),f="/persons",h=function(){return b.a.get(f).then((function(e){return e.data}))},O=function(e){return b.a.post(f,e).then((function(e){return e.data}))},m=function(e){return b.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},x=n(18),p=n.n(x),v=function(e){return Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:e.addPerson,children:[Object(s.jsx)("input",{placeholder:"add name",value:e.newName,onChange:e.handleNameChange}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{placeholder:"add number",value:e.newNumber,onChange:e.handleNumberChange}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",children:"save"})]})})},g=function(e){var t=e.person,n=e.setPersons,c=e.setNotification,o=(e.personObject,e.persons);return Object(s.jsx)("div",{children:Object(s.jsxs)("li",{children:[" ",t.name," ",t.number,Object(s.jsx)("button",{onClick:function(e){e.preventDefault(),window.confirm("do you want to delete?")?(console.log("yes"),m("".concat(t.id)).then(n(o.filter((function(e){return e.name!==t.name})))).catch((function(e){c("".concat(t.name," was already removed from the phonebook")),setTimeout((function(){c(null)}),2e3)})),c("".concat(t.name," was successfully removed in the phonebook")),setTimeout((function(){c(null)}),2e3)):console.log("no")},children:"  delete "})]})})},w=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),j=Object(a.a)(o,2),b=j[0],f=j[1],m=Object(r.useState)(""),x=Object(a.a)(m,2),w=x[0],y=x[1],N=Object(r.useState)(""),k=Object(a.a)(N,2),C=k[0],S=k[1],P=Object(r.useState)(null),T=Object(a.a)(P,2),D=T[0],E=T[1];Object(r.useEffect)((function(){console.log("effect"),h().then((function(e){console.log("got all"),c(e)}))}),[]);var F=n.filter((function(e){return e.name.toLowerCase().includes(C)}));return Object(s.jsxs)("div",{children:[Object(s.jsx)(d,{message:D}),Object(s.jsx)(l,{text:"phonebook app"}),Object(s.jsx)(u,{filter:C,handleFilter:function(e){S(e.target.value)}}),Object(s.jsx)(l,{text:"add new"}),Object(s.jsx)(v,{addPerson:function(e){e.preventDefault();var t={name:b,number:w};O(t).then((function(e){c(n.concat(e)),E("".concat(t.name," was successfully added to the phonebook")),setTimeout((function(){E(null)}),2e3),f(""),y("")})).catch((function(e){console.log(e),E("error: not able to add contact deu to ".concat(p.a.body)),setTimeout((function(){E(null)}),2e3)}))},newName:b,newNumber:w,handleNameChange:function(e){f(e.target.value)},handleNumberChange:function(e){y(e.target.value)}}),Object(s.jsx)(l,{text:"contacts"}),Object(s.jsx)("ul",{children:F.map((function(e){return Object(s.jsx)(g,{setPersons:c,setNotification:E,persons:n,person:e},e.id)}))}),Object(s.jsx)(i,{})]})};n(41);o.a.render(Object(s.jsx)(w,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.794b8818.chunk.js.map